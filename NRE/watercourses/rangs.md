## Выделение поряков водотоков

### Теория

**Водоток первого порядка** – это элементарный водоток, который не принимает ни одного водотока, то есть является начальным.

**Водоток второго порядка** образуется при слиянии двух водотоков первого порядка.

- При слиянии водотоков первого и второго порядков результирующий водоток сохраняет второй порядок.

- Порядок водотоков повышается при слиянии двух водотоков с одинаковыми порядками.

Есть схема выделения водотоков разными цветами:
1 - чёрный, 2 - красный, 3 - зелёный, 4 - коричневый, 5 - жёлтый.
Но следовать этой схеме необязательно.

Если водоток берёт начало вне карты, то он называется водотоком **неопределённого порядка**. Такой водоток должен быть выделен отдельным цветом.
Например, река Скнига является водотоком неопределённого порядка, так как исток реки по карте найти нельзя.

### Лабораторная

Для начала работы нужно [создать новое поле](../other/add-attribute.html) "порядок" в таблице атрибутов слоя "Гидрография".

<img title="" src="rangs--new-attribute.png" alt="rangs--new-attribute.png" data-align="center" width="353">

Теперь нужно присвоить каждому водотоку свой порядок. Это можно сделать двумя способами:

1. Если выделить объект в таблице атрибутов, то он подсветится на карте. Тогда можно посчитать порядок водотока и вписать значение в таблицу.
   
   <img title="" src="rangs--table-map.png" alt="rangs--table-map.png" data-align="center" width="326">

2. С помощью инструмента "Определить объекты" можно кликать на водотоки на карте, а затем изменить значения в их полях.
   
   <img title="" src="rangs--define-objects.png" alt="rangs--define-objects.png" data-align="center" width="572">
   
   <img title="" src="rangs--map-table.png" alt="rangs--map-table.png" data-align="center" width="421">

Если водоток нужно разделить на два, то можно использовать инструмент "Разделить объекты". Сначала нужно выделить слой и войти в режим редактирования. Затем должен стать доступным инструмент "Разделить объекты".

<img title="" src="rangs--split-edit-mode.png" alt="rangs--split-edit-mode.png" data-align="center" width="376">

<img title="" src="rangs--split-tool.png" alt="rangs--split-tool.png" width="575" data-align="center">

Лучше не разделять линии в местах пересечения с другим объектом того же слоя. Здесь что-то криво работает: либо QGSI либо моя голова.

Если [включена привязка](../other/binding-parameters.html) к вершинам, то можно кликать на вершину и в ней произойдёт разделение линии на две. Если нужно разделить линию по середине, то с помощью кликов левой кнопкой мыши нужно провести секущую линию и нажать правую кнопку мыши.

В результате поле "порядок" должно быть заполнено полностью.

<img title="" src="rangs--attributes-table.png" alt="rangs--attributes-table.png" data-align="center" width="434">

Создаём новый стиль с названием "порядки".

<img title="" src="rangs--add-style.png" alt="rangs--add-style.png" width="510" data-align="center">

<img title="" src="rangs--style-name.png" alt="rangs--style-name.png" data-align="center" width="173">

Убедитесь, что стилей теперь два. Изменение нового стиля не должно повлиять на предыдущий.

<img title="" src="rangs--two-styles.png" alt="rangs--two-styles.png" data-align="center" width="468">

Заходим в свойства слоя, удаляем все знаки, выбираем значение "порядки". Нажимаем классифицировать. Можно изменить стили знаков. Нажимаем ок.

<img title="" src="rangs--style.png" alt="rangs--style.png" data-align="center" width="534">

В итоге должно получиться что-то подобное:

<img title="" src="rangs--result-1.png" alt="rangs--result-1.png" data-align="center" width="458">

[Следующая часть](./pools.html)
